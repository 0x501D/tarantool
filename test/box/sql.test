# encoding: tarantool
exec sql 'ping'
# xxx: bug -- currently selects no rows
exec sql 'select * from t0'
exec sql 'insert into t0 values (1, "I am a tuple")'
exec sql 'select * from t0 where k0 = 1'
# currently there is no way to find out how many records
# a namespace contains 
exec sql 'select * from t0 where k0 = 0'
exec sql 'select * from t0 where k0 = 2'
server.restart()
exec sql 'select * from t0 where k0 = 1'
exec admin "save snapshot"
exec sql 'select * from t0 where k0 = 1'
server.restart()
exec sql 'select * from t0 where k0 = 1'
exec sql 'delete from t0 where k0 = 1'
exec sql 'select * from t0 where k0 = 1'
exec sql 'update t0 set k1 = "I am a new tuple" where k0=1'
exec sql 'select * from t0 where k0 = 1'
exec sql 'insert into t0 values (1, "I am a new tuple")'
exec sql 'select * from t0 where k0 = 1'
exec sql 'update t0 set k1 = "I am the newest tuple" where k0=1'
exec sql 'select * from t0 where k0 = 1'
# this is illegal, can't change tuple dimension with update
exec sql 'update t0 set k1 = "Huh", k2 = "Oh-ho-ho" where k0=1'
exec sql 'select * from t0 where k0 = 1'
exec sql 'insert into t0 values (1, "I am a new tuple", "stub")'
exec sql 'update t0 set k1 = "Huh", k2 = "Oh-ho-ho" where k0=1'
exec sql 'select * from t0 where k0 = 1'

# vim: syntax=python
