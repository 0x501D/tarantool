# encoding: tarantool
#
# backup default
os.rename("var/tarantool.cfg", "var/tarantool.cfg.old")

# bad1
os.symlink("../box/tarantool_bad1.cfg", "var/tarantool.cfg")
exec admin "reload configuration"

# bad2
os.unlink("var/tarantool.cfg")
os.symlink("../box/tarantool_bad2.cfg", "var/tarantool.cfg")
exec admin "reload configuration"

# bad3
os.unlink("var/tarantool.cfg")
os.symlink("../box/tarantool_bad3.cfg", "var/tarantool.cfg")
exec admin "reload configuration"

# bad4
os.unlink("var/tarantool.cfg")
os.symlink("../box/tarantool_bad4.cfg", "var/tarantool.cfg")
exec admin "reload configuration"

# bad5
os.unlink("var/tarantool.cfg")
os.symlink("../box/tarantool_bad5.cfg", "var/tarantool.cfg")
exec admin "reload configuration"

# good
os.unlink("var/tarantool.cfg")
os.symlink("../box/tarantool_good.cfg", "var/tarantool.cfg")
exec admin "reload configuration"

# empty
os.unlink("var/tarantool.cfg")
os.symlink("../box/tarantool_empty.cfg", "var/tarantool.cfg")
exec admin "reload configuration"

# no config
os.unlink("var/tarantool.cfg")
exec admin "reload configuration"

# restore default
os.rename("var/tarantool.cfg.old", "var/tarantool.cfg")
# vim: syntax=python
